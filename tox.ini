[tox]
envlist = doclinks, py36, py37, py38

[testenv]
passenv =
    RABBITMQ_HOST
    RABBITMQ_PORT
    REPORT
deps =
    pytest
    pytest-cov
commands =
    pytest -v --durations=0 --cov=pyrmq --cov-report=term --cov-report={env:REPORT:html}

[testenv:doclinks]
deps =
    PyYAML
    -rdocs/requirements.txt
whitelist_externals=make
changedir=docs
commands=make doclinks

[testenv:dev]
basepython = python3.8
usedevelop = True
deps =
commands =
